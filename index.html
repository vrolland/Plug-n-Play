<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Plug'n'Play - Money transfer API Standards</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Publish your API - TODO</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>This document is the first technical part of the Money Transfer API Standards.
It documents how to provide efficiently real time rates to third parties.</p>

          <h1 id="version-0-1">version 0.1</h1>

<h2 id="supported-http-codes">Supported HTTP Codes</h2>

<blockquote>
<p>Example of data JSON structured returns in case of error : </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
   </span><span class="nt">"errorCode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1203</span><span class="p">,</span><span class="w">
   </span><span class="nt">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"the date expirationDate must be after today"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Code</th>
<th>Label</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
<td>Everything went fine</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>Server could not correctly process request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorised</td>
<td>Authorisation required to process request</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Access forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>Resource not found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
<td>Method not allowed for resource</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
<td>Error occurred on the server side</td>
</tr>
</tbody></table>

<p>In case of error, the API should return a HTTP Code corresponding to the issue with additional information : “errorCode” and “message”. </p>

<ul>
<li><p>“errorCode” has to be documented somewhere accessible for developers</p></li>
<li><p>“Message” is a human reading abstract message of the error</p></li>
</ul>

<h2 id="standards">Standards</h2>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Date</td>
<td>Dates are standardised in ISO 8601</td>
</tr>
<tr>
<td>Country</td>
<td>Countries are standardised with their ISO 3166-1 alpha-2 code</td>
</tr>
<tr>
<td>Currency</td>
<td>Currencies are standardised with their ISO 4217 code</td>
</tr>
</tbody></table>

<p>Mains terms used all along this document :</p>

<ul>
<li><p>SENDER: the natural or legal person who sends the money</p></li>
<li><p>RECIPIENT: the natural or legal person who receives the money</p></li>
<li><p>QUOTE: Define what is possible to do between 2 countries for a specific  amount (including a list of options)</p></li>
<li><p>OPTION: A specific part of the quote, defining a way to pay, a way to receive and the fees associated</p></li>
<li><p>TRANSACTION: A transaction is defined by one SENDER, one RECIPIENT and one OPTION</p></li>
</ul>

<h2 id="use-cases">Use cases</h2>

<h3 id="list-of-countries-provided">List of countries provided</h3>

<p>To allow external services to integrate your solution you need to allow the service to retrieve the countries you operate in.</p>

<p>This API endpoint will be called in the best case only once a day and stored by the external service.</p>

<p>TODO IMAGE ?!</p>

<h3 id="retrieve-a-quote">Retrieve a quote</h3>

<p>The external service will ask a quote from a specific country to another one and for a specific amount in order to receive all the possible combinations to transfer the money  (ways of paying, ways of receiving and how much you would receive for each combination)</p>

<p>TODO IMAGE ?!</p>

<h2 id="entry-points">Entry points</h2>

<h3 id="countries">Countries</h3>

<h4 id="get-countries-get">Get countries [GET]</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Path</td>
<td>/countries</td>
</tr>
<tr>
<td>Method</td>
<td>GET</td>
</tr>
<tr>
<td>Authentication</td>
<td>Optional</td>
</tr>
<tr>
<td>Description</td>
<td>Get all countries provided</td>
</tr>
</tbody></table>

<h5 id="1-request">1. request</h5>

<p>No parameters given</p>

<h5 id="2-response">2. Response</h5>
<pre class="highlight shell"><code>curl <span class="s2">"http://example.com/api/v0.1/countries"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"iso"</span><span class="p">:</span><span class="s2">"FR"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"isSending"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"isReceiving"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"currenciesFrom"</span><span class="p">:[</span><span class="s2">"EUR"</span><span class="p">,</span><span class="s2">"USD"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>The response is an array :</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Requirement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>iso</td>
<td>string</td>
<td>Mandatory</td>
<td>Country</td>
</tr>
<tr>
<td>isSending</td>
<td>boolean</td>
<td>Mandatory</td>
<td>trueif the country is available to send money from</td>
</tr>
<tr>
<td>isReceiving</td>
<td>boolean</td>
<td>Mandatory</td>
<td>trueif the country is available to send money to</td>
</tr>
<tr>
<td>currenciesFrom</td>
<td>array</td>
<td>Conditional</td>
<td>List of Currencies available to pay the transaction</td>
</tr>
<tr>
<td>currenciesTo</td>
<td>array</td>
<td>Conditional</td>
<td>List of Currencies available to receive money</td>
</tr>
</tbody></table>

<h3 id="quotes">Quotes</h3>

<h4 id="get-quote-get">Get quote [GET]</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Path</td>
<td>/quote</td>
</tr>
<tr>
<td>Method</td>
<td>GET</td>
</tr>
<tr>
<td>Authentication</td>
<td>Optional</td>
</tr>
<tr>
<td>Description</td>
<td>Get options for a corridor and an amount</td>
</tr>
</tbody></table>

<h5 id="1-request">1. request</h5>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Requirement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>countryFrom</td>
<td>string</td>
<td>Mandatory</td>
<td>Sending country</td>
</tr>
<tr>
<td>currencyFrom</td>
<td>string</td>
<td>Mandatory</td>
<td>Sending currency</td>
</tr>
<tr>
<td>countryTo</td>
<td>string</td>
<td>Mandatory</td>
<td>Reception country</td>
</tr>
<tr>
<td>currencyTo</td>
<td>string</td>
<td>Mandatory</td>
<td>Reception currency</td>
</tr>
<tr>
<td>paymentAmount</td>
<td>decimal</td>
<td>Conditional</td>
<td>Sending amount requested (expressed in currencyFrom)</td>
</tr>
<tr>
<td>receptionAmount</td>
<td>decimal</td>
<td>Conditional</td>
<td>Receiving amount requested (expressed in currencyTo)</td>
</tr>
</tbody></table>

<aside class="notice">
Either fill paymentAmount or receptionAmount.
</aside>

<h5 id="2-response">2. Response</h5>

<aside class="warning">
N.B. : PaymentAmount has to be all fee included. This is the exact amount the user will pay.
</aside>
<pre class="highlight shell"><code>curl <span class="s2">"http://example.com/api/v0.1/quote?
countryFrom=FR&amp;currencyFrom=EUR&amp;countryTo=MX&amp;currencyTo=MXN
&amp;paymentAmountRequested=100"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> 
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"optionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"666f6f2d6261722d71757578"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"paymentMethod"</span><span class="p">:</span><span class="s2">"LOCALBANK"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"receptionMethod"</span><span class="p">:</span><span class="s2">"LOCALBANK"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"paymentAmount"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nt">"receptionAmount"</span><span class="p">:</span><span class="mf">1784.45</span><span class="p">,</span><span class="w">
            </span><span class="nt">"isEstimatedAmount"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rate"</span><span class="p">:</span><span class="mf">18.02299</span><span class="p">,</span><span class="w">
            </span><span class="nt">"quoteExpiration"</span><span class="p">:</span><span class="mi">12569537329</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fee"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"time"</span><span class="p">:{</span><span class="nt">"b"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">"d"</span><span class="p">:</span><span class="mi">1</span><span class="p">},</span><span class="w">
            </span><span class="nt">"min"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nt">"max"</span><span class="p">:</span><span class="mi">1000000000</span><span class="w">
        </span><span class="p">}</span><span class="w"> 
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Requirement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>options</td>
<td>Array</td>
<td>Mandatory</td>
<td>Array of options provided</td>
</tr>
</tbody></table>

<ul>
<li>Options</li>
</ul>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Requirement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>optionId</td>
<td>string</td>
<td>Mandatory</td>
<td>Unique option id</td>
</tr>
<tr>
<td>paymentMethod</td>
<td>string</td>
<td>Mandatory</td>
<td>Payment Option code(credit card, wire transfer…) &ndash; see dictionnary</td>
</tr>
<tr>
<td>receptionMethod</td>
<td>string</td>
<td>Mandatory</td>
<td>Reception Option code (Cash, wire transfer…) &ndash; see dictionnary</td>
</tr>
<tr>
<td>paymentAmount</td>
<td>decimal</td>
<td>Mandatory</td>
<td>Amount to pay (expressed in currencyFrom)</td>
</tr>
<tr>
<td>receptionAmount</td>
<td>decimal</td>
<td>Mandatory</td>
<td>Reception amount (expressed in currencyTo)</td>
</tr>
<tr>
<td>isEstimatedAmount</td>
<td>boolean</td>
<td>Mandatory</td>
<td>true, if the receptionAmount’s are estimated</td>
</tr>
<tr>
<td>rate</td>
<td>decimal</td>
<td>Mandatory</td>
<td>Exchange rate used by the mto</td>
</tr>
<tr>
<td>quoteExpiration</td>
<td>dateTime</td>
<td>Mandatory</td>
<td>The time at which the quote will be considered expired</td>
</tr>
<tr>
<td>fee</td>
<td>decimal</td>
<td>Mandatory</td>
<td>Fixed fees applied to the transaction</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>This fee can be calculated with the formula :</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>(paymentAmount - fee)*rate = receptionAmount (expressed in currencyFrom)</td>
</tr>
<tr>
<td>time</td>
<td>object</td>
<td>Mandatory</td>
<td>An estimation of the time required to receive the money&ndash; see below</td>
</tr>
<tr>
<td>min</td>
<td>decimal</td>
<td>Mandatory</td>
<td>Minimum paymentAmount for a transaction (expressed in currencyFrom)</td>
</tr>
<tr>
<td>max</td>
<td>decimal</td>
<td>Mandatory</td>
<td>Maximum paymentAmount for a transaction (expressed in currencyFrom)</td>
</tr>
<tr>
<td>urgent</td>
<td>boolean</td>
<td>Optional</td>
<td>True if the option is a “urgent” feature</td>
</tr>
<tr>
<td>who</td>
<td>integer</td>
<td>Optional</td>
<td>1. if this solution is only available to send money to the user itself</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>2. if this solution is only available to send to someone who is not the sender (ex : sending to an email)</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>0.Available for both (by default)</td>
</tr>
</tbody></table>

<ul>
<li>Time</li>
</ul>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Requirement</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>d</td>
<td>integer</td>
<td>Mandatory</td>
<td>Number of days estimated between the transaction creation and the delivery</td>
</tr>
<tr>
<td>b</td>
<td>boolean</td>
<td>Mandatory</td>
<td>true if the days are business days</td>
</tr>
</tbody></table>

<h2 id="dictionnary">dictionnary</h2>

<h3 id="payment-option-values">Payment option values</h3>

<ul>
<li>LOCALBANK</li>
<li>DEBITCARD</li>
<li>CREDITCARD<br></li>
<li>CASH</li>
<li>IDEAL</li>
<li>SOFORT</li>
<li>BANKGIRO</li>
<li>ACH</li>
<li>SWIFT</li>
<li>INTERAC</li>
<li>POLI</li>
<li>BUSINESSCARD</li>
</ul>

<h3 id="reception-option-values">Reception option values</h3>

<ul>
<li>LOCALBANK</li>
<li>MOBILPHONE</li>
<li>CASH</li>
<li>ATM</li>
<li>MOBILTOPUP</li>
<li>PHYSICDELIVERY</li>
<li>BILLPAY</li>
<li>MAIL</li>
<li>PREPAIDCARD</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
